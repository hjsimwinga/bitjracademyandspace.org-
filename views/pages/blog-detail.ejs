<article class="post-detail">
  <h1><%= post.title %></h1>
  <p class="muted"><%= post.date %></p>
  
  <div class="content">
    <% if (post.content.includes('<p>') || post.content.includes('<img') || post.content.includes('<br>')) { %>
      <%- post.content %>
    <% } else { %>
      <% post.content.split(/\r?\n\s*\r?\n/).forEach(paragraph => { %>
        <% if (paragraph.trim()) { %>
          <p><%= paragraph.trim().replace(/\r?\n/g, '<br>') %></p>
        <% } %>
      <% }) %>
    <% } %>
  </div>
  
  <% if (post.images && post.images.length > 0) { %>
    <div class="blog-end-images">
      <h3>Gallery</h3>
      <div class="blog-images-grid">
        <% post.images.forEach((image, index) => { %>
          <div class="blog-image-item">
            <img src="<%= image %>" alt="<%= post.title %> - Gallery Image <%= index + 1 %>" />
          </div>
        <% }) %>
      </div>
    </div>
  <% } %>
  
  <p><a href="/blog">‚Üê Back to Blog</a></p>
</article>

<style>
.post-detail {
  max-width: 800px;
  margin: 0 auto;
  background: white;
  border: 3px solid #111;
  border-radius: 20px;
  padding: 40px;
  box-shadow: 8px 8px 0 #00000040;
  margin-bottom: 30px;
}

.post-detail h1 {
  margin: 0 0 16px;
  font-size: 2.5rem;
  line-height: 1.2;
  color: #333;
}

.muted {
  color: #666;
  font-size: 1rem;
  margin: 0 0 30px;
  font-style: italic;
}

.post-images {
  margin: 30px 0;
  display: grid;
  gap: 20px;
}

.post-image {
  width: 100%;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 4px 4px 0 #00000020;
}

.post-image img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.3s ease;
}

.post-image:hover img {
  transform: scale(1.02);
}

.blog-end-images {
  margin: 40px 0;
  padding: 30px 0;
  border-top: 2px solid #f0f0f0;
}

.blog-end-images h3 {
  margin: 0 0 20px;
  color: #333;
  font-size: 1.5rem;
  text-align: center;
}

.blog-images-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.blog-image-item {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 4px 4px 0 #00000020;
  transition: all 0.3s ease;
}

.blog-image-item:hover {
  transform: translateY(-4px);
  box-shadow: 8px 8px 0 #00000030;
}

.blog-image-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
  transition: transform 0.3s ease;
}

.blog-image-item:hover img {
  transform: scale(1.05);
}

.content {
  line-height: 1.8;
  font-size: 1.1rem;
  color: #333;
  margin: 30px 0;
}

.content p {
  margin: 0 0 20px;
  text-align: justify;
}

.content p:last-child {
  margin-bottom: 0;
}

.content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
  margin: 30px 0 15px;
  color: #333;
  line-height: 1.3;
}

.content h1 { font-size: 2rem; }
.content h2 { font-size: 1.75rem; }
.content h3 { font-size: 1.5rem; }
.content h4 { font-size: 1.25rem; }
.content h5 { font-size: 1.1rem; }
.content h6 { font-size: 1rem; }

.content ul, .content ol {
  margin: 20px 0;
  padding-left: 30px;
}

.content li {
  margin: 8px 0;
  line-height: 1.6;
}

.content blockquote {
  margin: 20px 0;
  padding: 20px;
  background: #f8f9fa;
  border-left: 4px solid var(--primary);
  border-radius: 8px;
  font-style: italic;
}

.content a {
  color: var(--primary);
  text-decoration: none;
  font-weight: 600;
}

.content a:hover {
  text-decoration: underline;
}

.content strong {
  font-weight: 700;
  color: #333;
}

.content em {
  font-style: italic;
  color: #555;
}

.content code {
  background: #f1f3f4;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.content pre {
  background: #f1f3f4;
  padding: 20px;
  border-radius: 8px;
  overflow-x: auto;
  margin: 20px 0;
}

.content pre code {
  background: none;
  padding: 0;
}

.content img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 20px auto;
  border-radius: 8px;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.content img:hover {
  transform: scale(1.02);
}

.post-detail > p:last-child {
  margin-top: 40px;
  text-align: center;
}

.post-detail > p:last-child a {
  display: inline-block;
  padding: 12px 24px;
  background: var(--primary);
  color: white;
  text-decoration: none;
  border-radius: 8px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.post-detail > p:last-child a:hover {
  background: #ff6600;
  transform: translateY(-2px);
  box-shadow: 4px 4px 0 #00000030;
}

@media (max-width: 768px) {
  .post-detail {
    padding: 20px;
    margin: 0 10px 30px;
  }
  
  .post-detail h1 {
    font-size: 2rem;
  }
  
  .content {
    font-size: 1rem;
  }
}
</style>


